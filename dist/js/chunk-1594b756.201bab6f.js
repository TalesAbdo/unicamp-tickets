(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1594b756"],{"0a49":function(e,t,r){var s=r("9b43"),a=r("626a"),i=r("4bf8"),n=r("9def"),o=r("cd1c");e.exports=function(e,t){var r=1==e,c=2==e,u=3==e,l=4==e,d=6==e,m=5==e||d,p=t||o;return function(t,o,f){for(var h,v,b=i(t),g=a(b),y=s(o,f,3),x=n(g.length),w=0,C=r?p(t,x):c?p(t,0):void 0;x>w;w++)if((m||w in g)&&(h=g[w],v=y(h,w,b),e))if(r)C[w]=v;else if(v)switch(e){case 3:return!0;case 5:return h;case 6:return w;case 2:C.push(h)}else if(l)return!1;return d?-1:u||l?l:C}}},1169:function(e,t,r){var s=r("2d95");e.exports=Array.isArray||function(e){return"Array"==s(e)}},1301:function(e,t,r){"use strict";var s=r("3eec"),a=r.n(s);a.a},"20d6":function(e,t,r){"use strict";var s=r("5ca1"),a=r("0a49")(6),i="findIndex",n=!0;i in[]&&Array(1)[i](function(){n=!1}),s(s.P+s.F*n,"Array",{findIndex:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),r("9c6c")(i)},"3eec":function(e,t,r){},4177:function(e,t,r){"use strict";var s=r("5f5f"),a=r.n(s);a.a},"4b3a":function(e,t,r){"use strict";var s=r("a792"),a=r.n(s);a.a},"54f8":function(e,t,r){"use strict";var s=r("d12c"),a=r.n(s);a.a},"5f5f":function(e,t,r){},a792:function(e,t,r){},b661:function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"services-container"},[r("div",{staticClass:"left-container"},[r("Button",{attrs:{icon:"fa-user",value:"Novo membro"},on:{click:e.modalControl}})],1),r("div",{staticClass:"right-container"},[r("Title",{attrs:{titleValue:"Membros"}}),e._l(e.members,function(t){return r("MemberCard",{key:t.id,attrs:{member:t},on:{onUpdate:e.getMemberList}})})],2),r("NewMember",{attrs:{show:e.showNewMember},on:{hide:e.modalControl,onUpdate:e.getMemberList}})],1)},a=[],i=(r("96cf"),r("3b8d")),n=r("1163"),o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"modal new-member",class:{"is-active":e.show}},[r("div",{staticClass:"modal-background",on:{click:e.hide}}),r("div",{staticClass:"modal-content",attrs:{autocomplete:"off"}},[r("Title",{staticClass:"header-text",attrs:{titleValue:"Novo membro"}}),r("div",{staticClass:"search"},[r("span",{staticClass:"has-text-weight-bold"},[e._v("Procurar usuários")]),r("label",{staticClass:"search-bar",class:{isActive:e.activeSearch},attrs:{for:"inputnav"}},[r("i",{staticClass:"fas fa-search"}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.typedText,expression:"typedText"}],staticClass:"search-input",attrs:{placeholder:"Digite aqui o nome ou email",type:"text"},domProps:{value:e.typedText},on:{input:[function(t){t.target.composing||(e.typedText=t.target.value)},e.search],focus:e.activateSearch,focusout:e.desactivateSearch}})]),r("UserSearchDropdown",{attrs:{typedText:e.typedText,active:e.activeSearch,isSearching:e.isSearching,result:e.searchResult},on:{onclick:e.onUserClick}})],1),r("div",{staticClass:"chosen-users-container"},[r("span",{staticClass:"has-text-weight-bold"},[e._v("Usuários escolhidos")]),r("div",{staticClass:"chosen-users"},e._l(e.chosenUsers,function(t){return r("div",{key:t.id,staticClass:"user",on:{click:function(r){return e.removeUser(t.id)}}},[r("figure",{staticClass:"image is-32x32"},[r("UserImage",{attrs:{imagePath:t.email}})],1),r("span",{staticClass:"name text has-text-weight-bold"},[e._v(e._s(e.firstName(t.name)))]),r("span",{staticClass:"remove text has-text-weight-bold has-text-primary"},[e._v("Remove")])])}),0)]),r("button",{staticClass:"button is-black",attrs:{type:"button"},on:{click:e.addMembers}},[e._v("Adicionar usuários como membros")])],1),r("button",{staticClass:"modal-close is-large",attrs:{"aria-label":"close"}})])},c=[],u=(r("ac6a"),r("20d6"),r("28a5"),r("16e0")),l=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"search-results",class:{searchResultsActive:!e.active}},[r("div",{directives:[{name:"show",rawName:"v-show",value:!e.typedText,expression:"!typedText"}],staticClass:"start-typing"},[r("icon",{staticClass:"icon",attrs:{name:"keyboard"}}),e._m(0)],1),r("div",{directives:[{name:"show",rawName:"v-show",value:e.isSearching&&e.typedText,expression:"isSearching && typedText"}],staticClass:"searching"},[r("icon",{staticClass:"icon",attrs:{name:"search"}}),e._m(1)],1),r("div",{directives:[{name:"show",rawName:"v-show",value:!e.result.length&&!e.isSearching&&e.typedText,expression:"!result.length && !isSearching && typedText"}],staticClass:"not-found"},[r("icon",{staticClass:"icon",attrs:{name:"frown"}}),e._m(2)],1),r("div",{directives:[{name:"show",rawName:"v-show",value:e.result.length&&!e.isSearching&&e.typedText,expression:"result.length && !isSearching && typedText"}],staticClass:"results"},e._l(e.result,function(t,s){return r("a",{key:s,staticClass:"result-item",on:{click:function(r){return e.userSelected(t)}}},[r("PersonInformation",{attrs:{firstLine:t.name,secondLine:t.email,email:t.email}})],1)}),0)])},d=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"text-display"},[r("small",[e._v("Digite para pesquisar")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"text-display"},[r("small",[e._v("Procurando por usuários")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"text-display"},[r("p",{staticClass:"has-text-weight-bold"},[e._v("Nada encontrado")]),r("small",{staticClass:"is-italic"},[e._v("Tente procurar por algo diferente!")])])}],m=r("7f49"),p=r("0874"),f={name:"userSearchDropdown",components:{PersonInformation:m["a"],Icon:p["a"]},props:{typedText:{type:String,required:!0,default:""},active:{type:Boolean,required:!0,default:!1},isSearching:{type:Boolean,required:!0,default:!1},result:{type:Array,required:!0,default:function(){}}},methods:{userSelected:function(e){this.$emit("onclick",e)}}},h=f,v=(r("54f8"),r("2877")),b=Object(v["a"])(h,l,d,!1,null,null,null),g=b.exports,y={name:"newMember",components:{Title:u["a"],UserSearchDropdown:g},props:{show:{type:Boolean,default:!1}},data:function(){return{activeSearch:!1,isSearching:!1,chosenUsers:[],searchResult:[],typedText:"",focusOut:!0}},methods:{hide:function(){this.$emit("hide")},firstName:function(e){return e.split(" ")[0]},search:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){while(1)switch(r.prev=r.next){case 0:return t.typedText=e.target.value.toLowerCase(),t.isSearching=!0,r.next=4,t.getUserList();case 4:t.isSearching=!1;case 5:case"end":return r.stop()}},r)}))()},activateSearch:function(){this.activeSearch=!0},desactivateSearch:function(){var e=this;setTimeout(function(){e.activeSearch=!1},220)},onUserClick:function(e){var t=this;this.typedText="";var r=!1;this.chosenUsers.map(function(s){return s.id===e.id&&(t.$notify({group:"foo",title:"Cuidado!",text:"Este usuário já é um membro.",type:"warn"}),r=!0),!0}),r||this.chosenUsers.push(e)},getUserList:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n["a"].post("user/search",{typedText:e.typedText}).then(function(t){e.searchResult=t.data}).catch(function(){e.$notify({group:"foo",title:"Erro!",text:"Não foi possível obter a lista de membros.",type:"error"})});case 2:case"end":return t.stop()}},t)}))()},removeUser:function(e){var t=this.chosenUsers.findIndex(function(t){return t.id===e});-1!==t&&this.chosenUsers.splice(t,1)},addMembers:function(){try{this.chosenUsers.forEach(function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n["a"].put("user/support/new/".concat(t.id));case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),this.$notify({group:"foo",title:"Sucesso!",text:"Membro(s) adicionado(s) com êxito.",type:"success"}),this.chosenUsers=[],this.hide()}catch(e){this.$notify({group:"foo",title:"Erro!",text:"Não foi possível adicionar o(s) usuário(s).",type:"error"})}}}},x=y,w=(r("4b3a"),Object(v["a"])(x,o,c,!1,null,null,null)),C=w.exports,_=r("b929"),S=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"member-card"},[r("div",{staticClass:"member-image"},[r("figure",{staticClass:"image is-64x64"},[r("UserImage",{attrs:{imagePath:e.member.email}})],1)]),r("div",{staticClass:"member-info"},[r("div",{staticClass:"information-container"},[r("span",{staticClass:"is-size-5 has-text-weight-bold"},[e._v(e._s(e.member.name))]),r("span",{staticClass:"service-description"},[e._v(e._s(e.member.email))])]),r("button",{staticClass:"button is-danger is-inverted",attrs:{type:"button"},on:{click:e.removeMember}},[e._v("Remover Membro")])])])},O=[],T=(r("8e6e"),r("456d"),r("bd86")),k=r("2f62"),U=r("4cc5");function M(e,t){var r=Object.keys(e);return Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(e)),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?M(r,!0).forEach(function(t){Object(T["a"])(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var N={name:"memberCard",components:{UserImage:U["a"]},props:{member:{type:Object,required:!0}},computed:j({},Object(k["c"])({id:function(e){return e.user.id}})),methods:{removeMember:function(){var e=this;this.id===this.member.id?this.$notify({group:"foo",title:"Cuidado!",text:"Você não pode se remover, peça para outro usuário.",type:"warn"}):n["a"].delete("user/support/delete/".concat(this.member.id)).then(function(){e.$notify({group:"foo",title:"Sucesso!",text:"Membro de suporte deletado com êxito.",type:"success"}),e.$emit("onUpdate")}).catch(function(){e.$notify({group:"foo",title:"Erro!",text:"Não foi possível deletar o membro de suporte, contate o administrador.",type:"error"})})}}},$=N,P=(r("1301"),Object(v["a"])($,S,O,!1,null,null,null)),E=P.exports,R={name:"members",components:{NewMember:C,Button:_["a"],Title:u["a"],MemberCard:E},data:function(){return{showNewMember:!1,members:[]}},mounted:function(){this.getMemberList()},methods:{getMemberList:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n["a"].get("user/support/all").then(function(t){e.members=t.data}).catch(function(){e.$notify({group:"foo",title:"Erro!",text:"Não foi possível obter a lista de membros.",type:"error"})});case 2:case"end":return t.stop()}},t)}))()},modalControl:function(){this.showNewMember=!this.showNewMember,this.getMemberList()}}},A=R,L=(r("4177"),Object(v["a"])(A,s,a,!1,null,null,null));t["default"]=L.exports},cd1c:function(e,t,r){var s=r("e853");e.exports=function(e,t){return new(s(e))(t)}},d12c:function(e,t,r){},e853:function(e,t,r){var s=r("d3f4"),a=r("1169"),i=r("2b4c")("species");e.exports=function(e){var t;return a(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!a(t.prototype)||(t=void 0),s(t)&&(t=t[i],null===t&&(t=void 0))),void 0===t?Array:t}}}]);
//# sourceMappingURL=chunk-1594b756.201bab6f.js.map